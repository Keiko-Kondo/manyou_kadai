<%= form_with(model: @task, local: true ,url: choose_new_or_edit ) do |form| %>
  <% if @task.errors.any? %>
    <div id="error_explanation">
      <h2><%= @task.errors.count %> 件のエラーがあります。</h2>
      <ul>
      <% @task.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="task_task_name">
    <%= form.label :タスク %>
    <%= form.text_field :task_name %>
  </div>
  <br>
  <div class="task_details">
    <%= form.label :詳細 %>
    <%= form.text_area :details %>
  </div>
  <div class="task_deadline">
    <%= form.label :終了期限 %>
    <%= form.date_select :deadline %>
  </div>
  <div class="task_priority">
    <%= form.label :優先順位 %>
    <%= form.select :priority, {'高':'高', '中':'中', '低':'低'}, { include_blank: '選択してください' } %>
  </div>
  <div class="task_status">
    <%= form.label :ステータス %>
    <%= form.select :status, {'未着手':'未着手', '着手中':'着手中', '完了':'完了'}, { include_blank: '選択してください' } %>
  </div>
  <%= form.submit "登録"%>
<% end %>
